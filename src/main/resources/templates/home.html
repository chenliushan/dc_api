<!DOCTYPE html>
<html>
<head>
    <title>Storage System</title>
    <link href="http://localhost:8080/css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="http://localhost:8080/css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- js -->
    <script src="http://localhost:8080/js/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- js -->
    <!-- animated-css -->
    <link href="http://localhost:8080/css/animate.css" rel="stylesheet" type="text/css" media="all"/>
    <script src="http://localhost:8080/js/wow.min.js"></script>
    <script>
    new WOW().init();






    </script>
    <!-- animated-css -->

</head>
<body>
<!-- header -->
<div id="to-top" class="header-bg">
    <div id="home" class="header">
        <!-- container -->
        <div class="container">
            <div class="header-logo">
                <h2><a href="#">DC Project</a></h2>
            </div>
            <div class="header-nav">
                <span class="menu"><label> </label> </span>
                <ul>
                    <li><a href="#home">HOME</a></li>
                    <li><a href="#authorize">START</a></li>

                </ul>
            </div>
            <div class="clearfix">
            </div>
            <!-- script-for-menu -->
            <script>
     $("span.menu").click(function(){
      $(".header-nav ul").slideToggle("slow" , function(){
      });
    });






            </script>
            <!-- script-for-menu -->
            <div class="clearfix">
            </div>
        </div>
        <!-- container -->
        <!-- banner -->
        <div class="banner">
            <!-- container -->
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mobile-divise">
                            <img src="http://localhost:8080/images/iphone.png"/>
                        </div>
                    </div>
                    <div class="col-md-6 wow bounceIn" data-wow-delay="0.4s">
                        <div class="divise-info">
                            <h1>Storage System</h1>

                            <p>Our system divide a large file into 3 parts and store them in different clouds.
                                Building a unified storage system based on free cloud storage service</p>

                            <p></p>

                            <p th:text="'msg: '+${message}"></p>

                            <p></p>

                            <div class="get">
                                <a href="#authorize">GET STARTED</a>
                            </div>
                            <p class="text">Note: The downloaded files are in the path: Destop/test/download</p>
                        </div>
                    </div>

                </div>
            </div>
            <!-- container -->
        </div>
        <!-- banner -->
    </div>
</div>
<!-- header comp5321_order-->
<div class="clearfix">
</div>
<div id="authorize" class="container">
    <div class="text-center">
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>
        <div class="col-md-8 wow bounceIn" data-wow-delay="0.2s">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <label> Step 1: Authorize our platform by clicking the following buttons. </label>
                </div>
                <div class="panel-body">
                    <button class="btn btn-primary" onclick="location.href='http://localhost:8080/onedrive/req'"
                            th:attr="disabled=${onedriveAuth}">
                        ONEDRIVE
                    </button>
                    <p class="text"
                       th:text="(${onedriveAuth})?'Onedrive authorization success！':'Please do the OneDrive authorization.'"></p>
                    <button class="btn btn-primary" onclick="location.href='http://localhost:8080/sina/req'"
                            th:attr="disabled=${sinaAuth}">SINA
                    </button>
                    <p class="text"
                       th:text="(${sinaAuth})?'Sina authorization success！':'Please do the Sina authorization.'"></p>

                    <button class="btn btn-primary" onclick="location.href='#upload'" th:attr="disabled=${kuaipanAuth}">
                        KUAIPAN
                    </button>
                    <p class="text"
                       th:text="(${kuaipanAuth})?'KuaiPan authorization success!':'Please do the KuaiPan authorization.'"></p>

                </div>
            </div>
        </div>
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>

    </div>
</div>

<div id="upload" class="container">
    <div class="text-center">
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>
        <div class="col-md-8 wow bounceIn" data-wow-delay="0.2s">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <label> Step 1: Select a file we will divide it into 3 parts and upload them into different clouds
                        respectively. </label>
                </div>
                <div class="panel-body">
                    <form role="form" action="http://localhost:8080/upload" name="reservationForm" method="post">
                        <div class="form-group">
                            <label> Select A File To Upload </label>

                            <p>Note: You only have to input your username and password once. If you have ever authorize
                                out paltform,
                                you do not need to input your password again. And the KuaiPan only needs one
                                authorization per year.</p>
                            <br/>
                            <br/>
                            <table>
                                <tbody>
                                <tr></tr>
                                <tr>
                                    <td><input type="file" name="filePath"/></td>
                                    <td><input
                                            th:attr="disabled=(${onedriveAuth}and${sinaAuth}and${kuaipanAuth})?'false':'true'"
                                            type="submit" value="submit"/></td>
                                    <p class="text"
                                       th:text="(${onedriveAuth}and${sinaAuth}and${kuaipanAuth})?'Now, you can upload your file.':'Please do the all the authorization first.'"></p>

                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>

    </div>
</div>

<div id="download" class="container">
    <div class="text-center">
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>
        <div class="col-md-8 wow bounceIn" data-wow-delay="0.2s">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <label> Step 3: Operate your Uploaded files </label>
                </div>
                <div class="panel-body">
                    <p>Look up the uploaded files by clicking the button.</p>
                    <button onclick="location.href='http://localhost:8080/existfile'">view</button>
                    <p>1.Download the file by click the listed file name. We will download the files from different cloud
                        and
                        combine them into one file transparently.</p>
                    <p>2.Delete a file by click the "delete" link in the same row. All the file parts will be remove from the cloud.</p>
                    <div class="table-responsive">
                    <table class="table table-hover table-striped tablesorter" th:each="e:${exist}">
                        <tr>
                            <td th:text="${e}"
                                th:attr="href='http://localhost:8080/download?filePath='+${e}"></td>
                            <td><a th:attr="href='http://localhost:8080/download?filePath='+${e}">Download</a></td>
                            <td><a th:attr="href='http://localhost:8080/delete?filePath='+${e}">Delete</a></td>
                        </tr>
                    </table>
                        </div>
                    <!--<div th:each="e:${exist}">-->
                        <!--<a th:text="${e}">-->
                           <!--th:attr="href='http://localhost:8080/download?filePath='+${e}"-->
                                <!--</a>-->
                    <!--</div>-->
                </div>
            </div>


        </div>
        <div class="col-md-2 wow bounceIn" data-wow-delay="0.2s">
        </div>
        <div class="clearfix">
        </div>
    </div>
</div>
</body>
</html>